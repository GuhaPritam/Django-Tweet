{% extends 'layout.html' %}

{% block content %}
  <div class="container mt-3" style="height: 80vh; display: flex; flex-direction: column; justify-content: space-between;">
    <div class="row justify-content-center">
      <div class="col-md-8 col-lg-6">
        <div class="card shadow-lg p-4" style="flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between;">
          <h1 class="text-center text-primary fw-bold">ğŸš€ Tweet App</h1>

          <h2 class="text-center {% if form.instance.pk %} text-warning {% else %} text-success {% endif %} fw-bold">
            {% if form.instance.pk %}
              âœï¸ Edit Your Tweet
            {% else %}
              ğŸ“ Create a New Tweet
            {% endif %}
          </h2>

          <form method="post" enctype="multipart/form-data" style="flex-grow: 1; overflow-y: auto;">
            {% csrf_token %}

            {% for field in form %}
              <div class="mb-4">
                <h5 class="fw-bold text-start">{{ field.label }}</h5>  
                <div class="border-bottom border-secondary" style="width: 100px; height: 2px; margin-bottom: 10px;"></div> 
                <div class="w-100">
                  <div class="d-flex justify-content-start">
                    <div class="ms-3" style="max-width: 90%;"> 
                      {{ field }}
                    </div>
                  </div>
                </div>
                
                {% if field.help_text %}
                  <small class="form-text text-muted">{{ field.help_text }}</small>
                {% endif %}
              </div>
            {% endfor %}

            <button class="btn btn-warning w-100 fw-bold mt-3" type="submit">ğŸš€ Submit</button>
          </form>
          <div class="text-center mt-3">
            <a href="{% url 'tweet_list' %}" class="btn btn-secondary">â¬…ï¸ Back to tweet list</a>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
